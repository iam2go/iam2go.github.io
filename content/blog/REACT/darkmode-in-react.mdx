---
title: ë‹¤í¬ëª¨ë“œ ì ìš©í•˜ê¸° (with. Styled-component, Context API)
date: "2022-08-11"
tags: [react]
description: í”„ë¡œì íŠ¸ì— ë‹¤í¬ëª¨ë“œë¥¼ ì ìš©í•´ë³´ì•˜ë‹¤
thumbnail: "./images/darkmode.jpg"
---

ë‹¤í¬ ëª¨ë“œëŠ” ì–´ë‘ìš´ ë°°ê²½ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì „ë°˜ì ì¸ ìš”ì†Œë¥¼ ì–´ë‘ìš´ ìƒ‰ìƒ ì²´ê³„ë¡œ êµ¬ì„±í•œ low-light UIë¥¼ ì§€ì¹­í•œë‹¤.

ìŠ¤ë§ˆíŠ¸í°ê³¼ ê°™ì€ ë””ë°”ì´ìŠ¤ì˜ ì‚¬ìš©ëŸ‰ì´ ì¦ê°€ë©´ì„œ, ëˆˆì˜ í”¼ë¡œë¥¼ ëœì–´ì£¼ê³  ì§‘ì¤‘ë ¥ì„ ë†’ì—¬ì¤€ë‹¤ëŠ” ì´ìœ ë¡œ ë‹¤í¬ëª¨ë“œê°€ ë“±ì¥í•˜ì˜€ë‹¤. í˜„ì¬ëŠ” ìˆ˜ë§ì€ ì›¹ì‚¬ì´íŠ¸ë“¤ì´ ë‹¤í¬ëª¨ë“œë¥¼ ì˜µì…˜ìœ¼ë¡œ ì œê³µí•˜ê³  ìˆìœ¼ë©°, ì´ì œëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ë“¤ì˜ í•„ìˆ˜ í•­ëª©ì²˜ëŸ¼ ë˜ì–´ê°€ê³  ìˆë‹¤.

ì´ ê¸€ì€ ê¸°ì¡´ í”„ë¡œì íŠ¸ì— styled-componentì™€ context APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤í¬ëª¨ë“œ ì˜µì…˜ì„ ì¶”ê°€í•˜ëŠ” ê³¼ì •ì„ ë‹´ê³  ìˆë‹¤. ì¶”ê°€ë¡œ ë‹¤í¬ëª¨ë“œë¥¼ ì ìš©í•˜ê¸° ì „ì—, ì§€ì¼œì•¼ í•  ê·œì¹™ê³¼ ê°€ì´ë“œë¼ì¸ì„ ì‚´í´ë³¸ë‹¤.

<br />

# ë‹¤í¬ëª¨ë“œ ê°€ì´ë“œë¼ì¸

ë‹¤í¬ëª¨ë“œë¥¼ ê°œë°œí•˜ê¸° ì „ì—, ë¨¼ì € ê°€ì´ë“œë¼ì¸ì„ ì°¾ì•„ë³´ì•˜ë‹¤.

Material Deisgnì˜ ë‹¤í¬ëª¨ë“œ ê°€ì´ë“œë¼ì¸ì„ ì°¸ê³ í•˜ì—¬ íŠ¹íˆ ì£¼ì˜í•´ì•¼ í•  ì ë“¤ì„ ì •ë¦¬í–ˆë‹¤.

1. ì±„ë„ ê°ì†Œ: low-light UIì—ì„œëŠ” ìƒ‰ìƒì´ ë” ë‘ë“œëŸ¬ì ¸ ë³´ì´ê¸° ë•Œë¬¸ì— ë³´ë‹¤ ê°€ë³ê³  ì±„ë„ê°€ ë‚®ì€ ìƒ‰ìƒì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì±„ë„ê°€ ë†’ì€ ìƒ‰ìƒì€ ì–´ë‘ìš´ ë°”íƒ•ì—ì„œ ê°•í•˜ê²Œ ì¶©ëŒí•˜ëŠ” ëŠë‚Œì´ ë“œëŠ”ë°, ì´ë¥¼ ê²½ê³„ê°€ â€˜ì§„ë™í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤' ê³  í‘œí˜„í•œë‹¤.

2. ê¹Šì´: ë‹¤ì´ì–¼ë¡œê·¸ëŠ” ë³´í†µ ë©”ì¸ í™”ë©´ ìœ„ë¡œ í‘œì‹œëœë‹¤. ë³´í†µ ë‹¤ì´ì–¼ë¡œê·¸ê°€ ë©”ì¸ í™”ë©´ì˜ ìœ„ì— ìˆë‹¤ëŠ” ê²ƒì„ í‘œí˜„í•˜ê¸° ìœ„í•´ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ ì œì™¸í•œ ë°°ê²½ì„ Dimmed ì²˜ë¦¬í•œë‹¤. í•˜ì§€ë§Œ ì´ ë°©ì‹ì€ ë‹¤í¬ëª¨ë“œì—ì„œëŠ” íš¨ê³¼ë¥¼ ë³´ê¸° í˜ë“¤ë‹¤.
   ë‹¤í¬ëª¨ë“œì—ì„œ ê¹Šì´ê°ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ë°°ê²½ì˜ ë°ê¸°ì— ë³€í™”ë¥¼ ì¤€ë‹¤. ìƒë‹¨ì˜ ë ˆì´ì–´ì¼ìˆ˜ë¡ ë°ì€ ìƒ‰ì„ ì ìš©í•˜ì—¬ ê·¸ ê¹Šì´ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

3. ëŒ€ë¹„: ì›¹ ì½˜í…ì¸  ì ‘ê·¼ì„± ì§€ì¹¨(ì´í•˜ WCAG)ì„ ìœ„ë°°í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤. WCAGì— ë”°ë¥´ë©´ í…ìŠ¤íŠ¸ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí• ë•Œì˜ ëŒ€ë¹„ìœ¨ì€ ìµœì†Œí•œ 4.5 ëŒ€ 1ì´ ë˜ì–´ì•¼ í•œë‹¤.

<br />

# ë°°ê²½ìƒ‰ê³¼ ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ ì •í•˜ê¸°

## ë°°ê²½ìƒ‰ì— ëŒ€í•œ ê³ ì°°

ë‹¤í¬ëª¨ë“œì—ì„œ ê°€ì¥ ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•˜ëŠ” ì ì€ ëª…í™•í•œ ëŒ€ë¹„ë¥¼ í†µí•´ ìš”ì†Œ ê°„ êµ¬ë¶„ì´ ì‰½ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´ ë°°ê²½ì„ **#000**, ê¸€ì”¨ë¥¼ **#fff** ë¡œ í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ? ë¼ê³  ìƒê°í•˜ê¸° ì‰¬ìš´ë°, ì˜¤íˆë ¤ ì™„ì „í•œ ê²€ì€ìƒ‰ ë°°ê²½ì— í°ìƒ‰ í…ìŠ¤íŠ¸ëŠ” ëˆˆì˜ í”¼ë¡œë¥¼ ê·¹ëŒ€í™”ì‹œí‚¬ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.

ê°œì¸ì ìœ¼ë¡œë„ ì™„ì „í•œ ê²€ì€ìƒ‰ ë°°ê²½ì„ ë³„ë¡œ ì¢‹ì•„í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— êµ¬ê¸€ ë‹¤í¬ëª¨ë“œ ë°°ê²½ìƒ‰ì¸ **#212426**ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ë‹¤.

## ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ì— ëŒ€í•œ ê³ ì°°

ë‹¤í¬ëª¨ë“œì—ì„œëŠ” ìƒë‹¨ì˜ ë ˆì´ì–´ì¼ìˆ˜ë¡ ë°ì€ ìƒ‰ì„ ì ìš©í•˜ì—¬ ê·¸ ê¹Šì´ë¥¼ í‘œí˜„í•œë‹¤ê³  í–ˆë‹¤.

ë†’ì´ì˜ ë‹¨ê³„ê°€ 4ê°œë‚˜ 5ê°œì¸ ê²½ìš° ê¸°ë³¸ í…ìŠ¤íŠ¸(ë³¸ë¬¸)ì™€ ê¸°ë³¸ ë°°ê²½ê°„ì— ìµœì†Œ 15.8:1ì˜ ëŒ€ë¹„ ìˆ˜ì¤€ì„ ì‚¬ìš©í•´ì•¼ ê°€ì¥ ìƒë‹¨ì˜ ë ˆì´ì–´ì™€ ê¸°ë³¸ í…ìŠ¤íŠ¸ì˜ ëŒ€ë¹„ ìˆ˜ì¤€ì´ 4.5:1ì´ ëœë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fba9COc%2FbtrJn7bvwZi%2FHg3GADPQjKIaYR4dYJxio1%2Fimg.png)



í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ë³¸ë¬¸ê³¼ ë‹¤ì´ì–¼ë¡œê·¸ ì´ 2ë‹¨ê³„ì˜ ë†’ì´ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì— ê¸°ë³¸ í…ìŠ¤íŠ¸ì™€ ê¸°ë³¸ ë°°ê²½ì˜ ëŒ€ë¹„ê°€ 15.8: 1 ìˆ˜ì¤€ê¹Œì§€ ë‚˜íƒ€ë‚  í•„ìš”ê°€ ì—†ì—ˆë‹¤. ë”°ë¼ì„œ ê¸€ì”¨ ìƒ‰ì€ ë¬´ë‚œí•˜ê²Œ **#FEFEFE**ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcaqoRN%2FbtrJn7o6Zht%2FlzCdxkxKKnwSF5sSwZW421%2Fimg.pnghttps://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcaqoRN%2FbtrJn7o6Zht%2FlzCdxkxKKnwSF5sSwZW421%2Fimg.png)


<br/>
<br/>

â—ï¸ í•œ ê°€ì§€ ì£¼ì˜ì ì€ ì–´ë‘ìš´ ë°°ê²½ì˜ ë°ì€ í…ìŠ¤íŠ¸ëŠ” ë°ì€ ê³³ì—ì„œ ì–´ë‘ìš´ ê²ƒë³´ë‹¤ ë” êµµê²Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ ë‹¤í¬ ëª¨ë“œì—ì„œëŠ” `font-weight`ê°’ì„ ë” ë‚®ì¶° ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

<br/>
<br/>

# ğŸ¨ í”„ë¡œì íŠ¸ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë§Œë“¤ê¸°

í”„ë¡œì íŠ¸ ê°œë°œ ì´ˆë°˜ì—ëŠ” ìƒ‰ìƒ íŒ”ë ˆíŠ¸ë¥¼ ë§Œë“¤ì§€ ì•Šê³  í•„ìš”í•œ ìƒ‰ì„ ê·¸ë•Œê·¸ë•Œ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©í–ˆë‹¤.

ë‹¤í¬ëª¨ë“œ ê¸°ëŠ¥ì„ ë„ì…í•˜ê¸°ìœ„í•´ì„œëŠ” ë¼ì´íŠ¸ í…Œë§ˆì—ì„œ ì •ì˜í•œ ìƒ‰ìƒê³¼ ë‹¤í¬ í…Œë§ˆì—ì„œ ì •ì˜í•œ ìƒ‰ìƒì´ 1:1ë¡œ ëŒ€ì¹˜ë˜ì–´ì•¼í–ˆê³ , ê·¸ëŸ¬ë ¤ë©´ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–¤ ìƒ‰ìƒì„ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ì•¼í–ˆë‹¤. ìš°ì„  ë¼ì´íŠ¸ëª¨ë“œì™€ ë‹¤í¬ëª¨ë“œ ê°ê° í•„ìš”í•œ ìƒ‰ìƒì„ ëª¨ì•„ì„œ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ì•˜ë‹¤.

  <img
    src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F7o6BB%2FbtrJqKGbXSn%2FRk2mRuv1Q6wbQQxU8wPIAk%2Fimg.png"
    width="200"
    className="m-auto"
  />

ìœ„ ì´ë¯¸ì§€ì—ì„œë„ ë³´ì´ë‹¤ì‹œí”¼ ê° ëª¨ë“œì— í•„ìš”í•œ ìƒ‰ìƒì˜ ê°€ì§“ìˆ˜ê°€ ë‹¤ë¥´ë‹¤. ì´ëŠ” ë‹¨ìˆœí•˜ê²Œ **#202124 â†’ #fefefe** ë¡œ ëŒ€ì¹˜í•˜ë“¯ ìƒ‰ìƒë³„ë¡œ 1:1 ëŒ€ì¹˜í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ëœ»ì´ë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì‹œë§¨í‹± ì»¬ëŸ¬**ë¥¼ ì‚¬ìš©í–ˆë‹¤.

> ì‹œë§¨í‹± ì»¬ëŸ¬ë€ ì»¬ëŸ¬ë¥¼ Hexê°’ì´ ì•„ë‹Œ ì»¬ëŸ¬ê°€ ì‚¬ìš©ë˜ëŠ” ëª©ì ê³¼ ì ìš©ë˜ëŠ” UIì— ë”°ë¼ ë„¤ì´ë°í•˜ê³  ì‹œìŠ¤í…œí™”í•˜ëŠ” ê²ƒ ì„ ëœ»í•˜ë©°, ê°„ë‹¨í•˜ê²Œ ë§í•´ â€˜ìš©ë„ì— ë”°ë¥¸ ìƒ‰ìƒ ì •ì˜' ì´ë‹¤.

ì¦‰, #202124ë¥¼ â€˜gray-900â€™ ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, â€˜backgroundâ€™ë¡œ ì •ì˜í•˜ì—¬ ê·¸ ëª©ì ì„ ì´ë¦„ì— ë‹´ì•„ì£¼ëŠ” ê²ƒì´ë‹¤.

  <img
    src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbupPwa%2FbtrJm7v9BZk%2FlOjNMhkNJd23hBsoB8k0R0%2Fimg.png"
    width="50%"
    className="m-auto"
  />

<br />

í™”ë©´ì„ ë‘˜ëŸ¬ë³´ë©´ì„œ ìƒ‰ìƒ ì •ì˜ê°€ í•„ìš”í•œ UIë“¤ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤.

- background
- text( ë³¸ë¬¸ ê¸€ì”¨, ë¡œê³ , ì•„ì´ì½˜ ëª¨ë‘ ê°™ì€ ìƒ‰ ì‚¬ìš©)
- ìƒíƒœ 3ê°€ì§€ ( correct, present, absent) + í…ìŠ¤íŠ¸ëŠ” #fefefeë¡œ ë™ì¼
- ë³´ë“œ ë°°ê²½ìƒ‰, í…ìŠ¤íŠ¸ ìƒ‰, í…Œë‘ë¦¬ìƒ‰(ê¸°ë³¸, í™œì„±í™” ì‹œ)
- í‚¤ë³´ë“œ ë°°ê²½ìƒ‰, í…ìŠ¤íŠ¸ ìƒ‰, hoverì‹œ ë°°ê²½ìƒ‰
- ë‹¤ì´ì–¼ë¡œê·¸ ë°°ê²½ìƒ‰
- ë²„íŠ¼ ë°°ê²½ìƒ‰, hoverì‹œ ë°°ê²½ìƒ‰, í…ìŠ¤íŠ¸ìƒ‰

<br />

ì •ë¦¬í•œ UIë¥¼ í† ëŒ€ë¡œ ìš©ë„ë³„ë¡œ ìƒ‰ìƒì„ ì •ì˜í•œ íŒ”ë ˆíŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.

<img
  src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcJYkmM%2FbtrJp9ztVes%2FheXdozlf2lujWVe0DOG5Qk%2Fimg.png"
  width="50%"
  className="m-auto"
/>

ì´ì œ ìš°ë¦¬ëŠ” ìœ„ì˜ ìš©ë„ë³„ íŒ”ë ˆíŠ¸ë¥¼ í† ëŒ€ë¡œ ìƒ‰ìƒì„ ì •ì˜í•˜ì—¬ í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•  ê²ƒì´ë‹¤.

<br />
<br />

# í”„ë¡œì íŠ¸ì— ë‹¤í¬ëª¨ë“œë¥¼ ì ìš©í•´ë³´ìğŸ”¥

## ğŸ“ ê¸°ì¡´ style í´ë” êµ¬ì„±

ë‹¤í¬ëª¨ë“œë¥¼ ë„ì…í•˜ë ¤ëŠ” í”„ë¡œì íŠ¸ì—ì„œ style í´ë” í•˜ìœ„ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‘ê°œì˜ íŒŒì¼ì´ ì¡´ì¬í•œë‹¤.


  <img
    src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F2P8Ql%2FbtrJqKlUA1H%2FLXv6pXpwlV9CQ10FdPsSc1%2Fimg.png"
    width="300"
    className="m-auto"
  />


<br />
<br />

`GlobalStyle` íŒŒì¼ì—ëŠ” ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©í•  ê¸°ë³¸ ìŠ¤íƒ€ì¼ë“¤ì„ ì„¤ì •í•´ì£¼ì—ˆê³ ,

```
import { createGlobalStyle } from "./theme";

const GlobalStyle = createGlobalStyle`
    * {
        font-size: 10px;
    }
    body{
        font-family: 'Nunito','Pretendard', sans-serif;
        margin: 0;
        font-size: 12px;
    }
    h2{
        font-size: 18px;
    }
    button{
        cursor: pointer;
        border: none;
    }
    div{
        font-size: 12px;
    }
`;

export default GlobalStyle;
```

`theme` íŒŒì¼ì—ëŠ” ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìƒ‰ë“¤ì„ ì •ì˜í•´ì£¼ì—ˆë‹¤.

```
import baseStyled, { ThemedStyledInterface } from "styled-components";

export const theme = {
  color: {
    correct: "#5babab",
      present: "#fdb800",
      absent: "#909090",
  },
};

export type Theme = typeof theme;
export const styled = baseStyled as ThemedStyledInterface<Theme>;
```

ë‘ íŒŒì¼ ëª¨ë‘ Root ì»´í¬ë„ŒíŠ¸ì—ì„œ Appì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ëŠ” í˜•íƒœë¡œ, ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤.

```
import React from "react";
import App from "./App";
import PortalContainer from "./components/modals/PortalContainer";
import GlobalStyle from "./style/GlobalStyle";
import { RecoilRoot } from "recoil";
import { ThemeProvider } from "styled-components";
import { theme } from "./style/theme";

function Root() {
  return (
    <RecoilRoot>
      <ThemeProvider theme={theme}>
        <GlobalStyle />
        <App />
        <PortalContainer />
      </ThemeProvider>
    </RecoilRoot>
  );
}

export default Root;
```

<br />
<br />

# theme ìƒ‰ìƒ ì •ì˜í•˜ê¸°

`theme.ts` ì•ˆì— ë‹¤í¬ í…Œë§ˆì™€ ë¼ì´íŠ¸ í…Œë§ˆì˜ ìƒ‰ìƒì„ ì •ì˜í•´ì£¼ì—ˆë‹¤.

```
// styles/theme.ts

import * as styledComponents from "styled-components";
import { ThemedStyledComponentsModule } from "styled-components";

const color = {
  correct: "#5babab",
  present: "#fdb800",
  absent: "#908790",
};

export const light = {
  background1: "#fefefe",
  background2: "#fefefe", // ë‹¤ì´ì–¼ë¡œê·¸
  text: "#202124",
  keyBg1: "#e3e1e3",
  KeyBg2: "#cfcbcf",
  boardBg: "white",
  boardBorder1: "#cfcbcf",
  boardBorder2: "#202124", // í™œì„±í™”ì‹œ
  button1: "#e3e1e3",
  button2: "908790",
  color: { ...color },
};

export const dark = {
  background1: "#202124",
  background2: "#38393e", // ë‹¤ì´ì–¼ë¡œê·¸
  text: "#fefefe",
  keyBg1: "#403c40",
  KeyBg2: "#766c76",
  boardBg: "#131213",
  boardBorder1: "#766c76",
  boardBorder2: "#e3e1e3", // í™œì„±í™”ì‹œ
  button1: "#5c565c",
  button2: "#908790",
  color: { ...color },
};

export type Theme = typeof light;
export const { default: styled, createGlobalStyle } =
  styledComponents as any as ThemedStyledComponentsModule<Theme>;
```

```
export const styled = baseStyled as ThemedStyledInterface<Theme>;
```

ê¸°ì¡´ì—ëŠ” `ThemedStyledInterface` íƒ€ì…ë§Œì„ ê°€ì ¸ì™€ì„œ ìƒˆë¡­ê²Œ ì„ ì–¸í•´ì£¼ì—ˆë‹¤ë©´,

```
export const { default: styled, createGlobalStyle } =
  styledComponents as any as ThemedStyledComponentsModule<Theme>;
```

ë‹¤í¬ëª¨ë“œë¥¼ ì¶”ê°€í•˜ë©´ì„œ `createGlobalStyle`ì—ë„ ì„ ì–¸í•œ í…Œë§ˆ ìƒ‰ìƒ ê°’ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— `ThemedStyledComponentsModule`ì„ ê°€ì ¸ì™€ í…Œë§ˆ íƒ€ì…ê³¼ í•¨ê»˜ export í•´ì£¼ì—ˆë‹¤.

- ì´ëŸ° ì„¤ì •ê³¼ëŠ” ë³„ê°œë¡œ `styled-components.d.ts` íŒŒì¼ì„ ë§Œë“¤ì–´ í…Œë§ˆ íƒ€ì…ì„ í™•ì¥í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•´ë„ ëœë‹¤.


<br/>
<br/>

# styled ìƒ‰ìƒ ì •ì˜ ì½”ë“œ ë³€ê²½í•˜ê¸°

```
// Root.tsx

import React, {useState} from "react";
import App from "./App";
import PortalContainer from "./components/modals/PortalContainer";
import GlobalStyle from "./style/GlobalStyle";
import { RecoilRoot } from "recoil";
import { ThemeProvider } from "styled-components";
import { light, dark } from "./style/theme";

function Root() {
const [theme, setTheme] = useState("light");
  return (
    <RecoilRoot>
      <ThemeProvider theme={theme === "light" ? light : dark}>
        <GlobalStyle />
        <App />
        <PortalContainer />
      </ThemeProvider>
    </RecoilRoot>
  );
}

export default Root;
```

`Root`ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜„ì¬ í…Œë§ˆë¥¼ ë‹´ì„ ìƒíƒœë¥¼ ì„ ì–¸í•´ì£¼ê³ , ê·¸ ê°’ì„ theme ì†ì„±ìœ¼ë¡œ ì „ë‹¬í–ˆë‹¤.

ì´ì œ ì„ íƒí•œ í…Œë§ˆì— ë”°ë¼ `background`ì™€ `text`ìƒ‰ìƒì´ ë³€ê²½ë˜ë„ë¡ ì½”ë“œë¥¼ ë³€ê²½í•´ì£¼ì.

```
// style/GlobalStyle.ts

import { createGlobalStyle } from "./theme";

const GlobalStyle = createGlobalStyle`
    ...
    body{
        ...
        background: ${({ theme }) => theme.background1};
        color: ${({ theme }) => theme.text};
        transition: background 0.2s ease-in, color 0.2s ease-in;
    }
    ...
`;

export default GlobalStyle;
```

â—ï¸ ê¸°ì¡´ì˜ styled-componentì—ì„œ `createGlobalStyle`ì„ ê°€ì ¸ì™€ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, `theme.ts`ì—ì„œ exportí•œ `createGlobalStyle`ì„ importí•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ìƒ‰ìƒì„ ì •ì˜í•´ì¤€ ê³³ë§ˆë‹¤ ë™ì¼í•˜ê²Œ ì½”ë“œë¥¼ ë³€ê²½í•´ì£¼ë©´ ëœë‹¤.

```
// components/main/keyboard/Key.tsx

import React from "react";
import { styled } from "../../../style/theme";

...

function Key({ value, status, width = 4, onClick }: Props) {
  ...
    return(
            <KeyBlock
          width={width}
          color={status}
          ...
        >
          {value}
        </KeyBlock>
    )
}

const KeyBlock = styled.div<StyleProps>`
  background-color: ${({ theme }) => theme.keyBg1};
  ...
  &:hover {
    background-color: ${({ theme }) => theme.KeyBg2};
  }
  &.on {
    background-color: ${({ theme, color }) => color && theme.color[color]};
    border-color: ${({ theme, color }) => color && theme.color[color]};
    color: white;
  }
`;

export default Key;
```

â—ï¸ ì¼ë°˜ ì»´í¬ë„ŒíŠ¸ ì—­ì‹œ` theme.ts`ì—ì„œ exportí•œ `styled`ë¥¼ importí•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

ë³€ê²½ì„ ëëƒˆë‹¤ë©´ `Root`ì»´í¬ë„ŒíŠ¸ì—ì„œ themeì˜ ê¸°ë³¸ ìƒíƒœ ê°’ì„ `"dark"`ë¡œ ì„¤ì •í•œ ë’¤ ì œëŒ€ë¡œ ì ìš©ëëŠ”ì§€ë¥¼ í™•ì¸í•´ë³´ì.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcJxyUo%2FbtrJn6wWywk%2F4aiaAvE2kQ5mLHNP2GstIk%2Fimg.png)

<br/>
<br/>


# í† ê¸€ ë²„íŠ¼ ë§Œë“¤ê¸°
ì´ì œ í…Œë§ˆ ëª¨ë“œë¥¼ ë³€ê²½í•  ë²„íŠ¼ì„ ë§Œë“¤ì–´ë³´ì.

 

ì´ í”„ë¡œì íŠ¸ì—ì„œ ê¸°ëŠ¥ ë²„íŠ¼ì€ ëª¨ë‘ Header ì•ˆì— ìˆë‹¤. Headerì˜ ê°€ì¥ ì™¼ìª½ì— ë²„íŠ¼ì„ ì¶”ê°€í•´ ì£¼ì—ˆë‹¤.
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fb6x71F%2FbtrJpNQ9OVZ%2FoAa5w1bugAkCEGO4RPk1i0%2Fimg.png)
![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcTKCjc%2FbtrJm73W61r%2FaU3r1kQMBtIWDg36zeXgNK%2Fimg.png)


`Header`ì»´í¬ë„ŒíŠ¸ëŠ” `Root`ì˜ ìì‹ ì»´í¬ë„ŒíŠ¸ Appì˜ ìì‹ ì»´í¬ë„ŒíŠ¸ì´ë‹¤. themeê°’ì€ `Root`ì—ì„œ ì‚¬ìš©í•˜ê³ , themeì˜ setterí•¨ìˆ˜ëŠ”  Root -> Appì„ ê±°ì³ Headerì—ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ë‹¤. ì•„, í˜„ì¬ í…Œë§ˆ ëª¨ë“œì— ë”°ë¼ ì•„ì´ì½˜ì„ ë°”ê¿”ì¤˜ì•¼ í•˜ë‹ˆ theme ê°’ë„ ê°™ì´ ë„˜ê²¨ì¤˜ì•¼ í•œë‹¤.

 

ê¹”ë”í•œ ì½”ë“œë¥¼ ìœ„í•´ themeë¥¼ ì „ì—­ ìƒíƒœë¡œ ë§Œë“¤ í•„ìš”ê°€ ìˆì—ˆë‹¤. ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì „ì—­ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ recoilì„ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ, themeëŠ” **ìƒˆë¡œìš´ Contextë¥¼ ë§Œë“¤ì–´ ê´€ë¦¬í•˜ëŠ” ë°©ì‹**ì„ ì„ íƒí•˜ì˜€ë‹¤.

<br/>
<br/>

# `useTheme` ì»¤ìŠ¤í…€ Hook ë§Œë“¤ê¸°
ë¨¼ì €, í…Œë§ˆì˜ í† ê¸€ ê¸°ëŠ¥ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì»¤ìŠ¤í…€ Hookì„ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.

```
// hooks/useTheme.ts

import { useCallback, useState } from "react";

function useTheme() {
  const [theme, setTheme] = useState("light");

  const onChangeTheme = useCallback(() => {
    setTheme((prevTheme) => (prevTheme === "light" ? "dark" : "light"));
  }, []);

  return {
    theme,
    onChangeTheme,
  };
}

export default useTheme;
 ```


 <br/>
 <br/>

# ìƒˆë¡œìš´ `ThemeProvider` ë§Œë“¤ê¸°
themeì— ëŒ€í•œ contextë¥¼ ìƒˆë¡­ê²Œ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ë™ì‹œì— ê¸°ì¡´ styled-componentì˜ `ThemeProvider`ë¥¼ ì»¤ìŠ¤í…€í•´ì£¼ì—ˆë‹¤.

```
// context/ThemeProvider.tsx

import useTheme from "hooks/useTheme";
import React, { ReactNode } from "react";
import { light, dark } from "../style/theme";
import { ThemeProvider as StyledThemeProvider } from "styled-components";

type Props = {
  children: ReactNode;
};

const defaultValue = {
  theme: "light",
  onChangeTheme: () => {},
};

export const ThemeContext = React.createContext(defaultValue);

function ThemeProvider({ children }: Props) {
  const themeProps = useTheme();

  return (
    <ThemeContext.Provider value={themeProps}>
      <StyledThemeProvider theme={themeProps.theme === "light" ? light : dark}>
        {children}
      </StyledThemeProvider>
    </ThemeContext.Provider>
  );
}

export default ThemeProvider;
 ```

 

`Root`ì»´í¬ë„ŒíŠ¸ì˜ `ThemeProvider`ë¥¼ ìƒˆë¡œ ì»¤ìŠ¤í…€í•œ ThemeProviderë¡œ êµì²´í•´ì¤€ë‹¤.

```
import React from "react";
import App from "./App";
import PortalContainer from "./components/modals/PortalContainer";
import GlobalStyle from "./style/GlobalStyle";
import { RecoilRoot } from "recoil";
import ThemeProvider from "context/ThemeProvider";

function Root() {
  return (
    <RecoilRoot>
      <ThemeProvider>
        <GlobalStyle />
        <App />
        <PortalContainer />
      </ThemeProvider>
    </RecoilRoot>
  );
}

export default Root;
 ```

 

ë‹¤í¬ëª¨ë“œ ë²„íŠ¼ì´ ìˆëŠ” `Header`ì»´í¬ë„ŒíŠ¸ì— `useContext`ë¡œ `theme`ê°’ê³¼ setterí•¨ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ ì…‹íŒ…í•´ì£¼ì—ˆë‹¤.

```
import React, { useContext } from "react";
import styled from "styled-components";
import cn from "classnames";
import { ThemeContext } from "context/ThemeProvider";

function Header() {
  const { theme, onChangeTheme } = useContext(ThemeContext);
  ...

  return (
    <HeaderStyle>
      <Button onClick={onChangeTheme}>
        <i
          className={cn(
            "fa-solid",
            { "fa-sun": theme === "light" },
            { "fa-moon": theme === "dark" }
          )}
        ></i>
      </Button>
      ...
    </HeaderStyle>
  );
}
...

export default Header;
 ```


 ![](https://blog.kakaocdn.net/dn/ntTuK/btrJqK0u2R0/2cJnybhneFXVZRBA7K6fiK/img.gif)
ì´ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë¼ì´íŠ¸ëª¨ë“œ â†”ï¸ ë‹¤í¬ëª¨ë“œë¡œ ì „í™˜ë˜ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<br/>
<br/>


# ë‹¤í¬ëª¨ë“œ ì„¤ì • ìœ ì§€í•˜ê¸°
ë‹¤í¬ëª¨ë“œë¡œ ì„¤ì •í•œ ìƒíƒœì—ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´, ë‹¤í¬ëª¨ë“œê°€ ìœ ì§€ë˜ì§€ ì•Šê³  ìƒˆë¡­ê²Œ ë¼ì´íŠ¸ëª¨ë“œë¡œ ì ìš©ëœë‹¤.

ì‚¬ìš©ìê°€ ì„¤ì •í•œ í…Œë§ˆ ê°’ì„ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ì—¬ ìƒˆë¡œê³ ì¹¨ì„ í•˜ë”ë¼ë„ ì´ì „ì— ì„¤ì •í•œ í…Œë§ˆ ê°’ì´ ìœ ì§€ë˜ë„ë¡ ë³€ê²½í•´ë³´ì.

```
// hooks/useTheme.ts

import { useCallback, useLayoutEffect, useState } from "react";

function useTheme() {
  const [theme, setTheme] = useState("light");

  const onChangeTheme = useCallback(() => {
    const updatedTheme = theme === "light" ? "dark" : "light";
    setTheme(updatedTheme);
    localStorage.setItem("theme", updatedTheme);
  }, [theme]);

  useLayoutEffect(() => {
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme && ["dark", "light"].includes(savedTheme)) {
      setTheme(savedTheme);
    }
  }, []);

  return {
    theme,
    onChangeTheme,
  };
}

export default useTheme;
 ```

![](https://blog.kakaocdn.net/dn/dupvxY/btrJpM5Ovpz/sBVIxnctNtA4xWUynIgIp0/img.gif)

ì´ì œ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ì´ì „ì— ì„¤ì •í•œ í…Œë§ˆê°’ì´ ì˜ ìœ ì§€ëœë‹¤.<br/>
í•˜ì§€ë§Œ ë³´ëŠ” ì‚¬ëŒì— ë”°ë¼ ë¼ì´íŠ¸ëª¨ë“œ â†’ ë‹¤í¬ëª¨ë“œë¡œ ë³€í™˜ë˜ëŠ” íš¨ê³¼ê°€ ê±°ìŠ¬ë¦´ ìˆ˜ ìˆë‹¤.

<br/>
<br/>

# ìƒˆë¡œê³ ì¹¨ ì‹œ ë¶ˆí•„ìš”í•œ ì „í™˜íš¨ê³¼ë¥¼ ì—†ì• ì
ìƒˆë¡œê³ ì¹¨ ì‹œì— ë¼ì´íŠ¸ëª¨ë“œì—ì„œ ë‹¤í¬ëª¨ë“œë¡œ ì „í™˜ íš¨ê³¼ê°€ ë³´ì—¬ì§€ëŠ” ì´ìœ ëŠ” í…Œë§ˆë¥¼ ë¶€ë“œëŸ½ê²Œ ë³€ê²½í•˜ê¸° ìœ„í•´ ì„¤ì •í•œ â€˜transitionâ€™ ë•Œë¬¸ì´ë‹¤.

 
ì‹¤ì œë¡œ ìŠ¤íƒ€ì¼ì—ì„œ íŠ¸ëœì§€ì…˜ì„ ì œê±°í•˜ë©´ ê¹œë¹¡ì„ ì—†ì´ ë‹¤í¬ëª¨ë“œê°€ ìœ ì§€ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
![](https://blog.kakaocdn.net/dn/bVhODn/btrJrQlCg2G/MHEMeBKD17cHFN0Z8kwva1/img.gif)

í•˜ì§€ë§Œ ì´ ê²½ìš° í…Œë§ˆì˜ ì „í™˜ ê³¼ì •ì´ ë„ˆë¬´ ë¶€ìì—°ìŠ¤ëŸ½ê²Œ ëŠê»´ì§„ë‹¤.

íŠ¸ëœì§€ì…˜ì„ ì ìš©í•˜ë©´ì„œ ìƒˆë¡œê³ ì¹¨ ì‹œ ì „í™˜íš¨ê³¼ê°€ ì¼ì–´ë‚˜ì§€ ì•Šê²Œ í•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í–ˆë‹¤.

`useTheme`ì—ì„œ ìš°ë¦¬ëŠ” í…Œë§ˆì˜ ì´ˆê¸°ê°’ì„ `â€œlightâ€` ë¡œ ì„¤ì •í•´ë†¨ê³ , ë Œë”ë§ ì´í›„ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ëœ ê°’ì„ ê°€ì ¸ì™€ì„œ ìƒíƒœë¥¼ ë°”ê¿”ì£¼ì—ˆë‹¤. `â€œlightâ€` ì—ì„œ `â€œdarkâ€` ë¡œ ë³€í•˜ëŠ” ê³¼ì •ì´ íŠ¸ë Œì§€ì…˜ìœ¼ë¡œ ì¸í•˜ì—¬ ì‚¬ìš©ìì˜ ëˆˆì— í¬ì°©ëœ ê²ƒì´ë‹¤.

 

 

ê·¸ë ‡ë‹¤ë©´, ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ëœ ê°’ì„ ê°€ì ¸ì™€ì„œ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” ì¼ì„ í™”ë©´ì— ê·¸ë¦¬ê¸° ì „ì— ìˆ˜í–‰í•˜ë„ë¡ ë°”ê¿”ì£¼ë©´ ì–´ë–¨ê¹Œ?

`useEffect` ê°€ ì•„ë‹Œ `useLayoutEffect`ë¥¼ ì‚¬ìš©í•´ë³´ì.
![React Hookì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ë‚˜íƒ€ë‚¸ ê·¸ë¦¼](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FoBSCX%2FbtrJpOvMh1R%2FpaSd6IPbOPjgcXnt6mkg6k%2Fimg.png)

`useEffect`ê°€ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ê³  í™”ë©´ì— ê·¸ë ¤ì§„ ì´í›„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤ë©´,
`useLayoutEffect`ëŠ” ë Œë”ë§ëœ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ê·¸ë ¤ì§€ê¸° ì „ì— ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.



 
```
// hooks/useTheme.ts

import { useCallback, useLayoutEffect, useState } from "react";

function useTheme() {
  const [theme, setTheme] = useState("light");

  const onChangeTheme = useCallback(() => {
    const updatedTheme = theme === "light" ? "dark" : "light";
    setTheme(updatedTheme);
    localStorage.setItem("theme", updatedTheme);
  }, [theme]);

  useLayoutEffect(() => {
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme && ["dark", "light"].includes(savedTheme)) {
      setTheme(savedTheme);
    }
  }, []);

  return {
    theme,
    onChangeTheme,
  };
}

export default useTheme;
 ```

 

bodyëŠ” Reactê°€ ì œì–´í•˜ëŠ” DOM node ë°–ì˜ ìš”ì†Œì´ê¸° ë•Œë¬¸ì— hook flowì˜ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. `App` ì»´í¬ë„ŒíŠ¸ì— `<Background/>` ìš”ì†Œë¥¼ ì¶”ê°€í•˜ì—¬ bodyì— ë°°ê²½ì„ ë„£ì—ˆì„ ë•Œì™€ ë™ì¼í•˜ê²Œ ë³´ì´ë„ë¡ í•´ì£¼ì—ˆë‹¤.

```
// App.tsx

import Header from "./components/header";
import Main from "./components/main/Main";
import styled from "styled-components";

function App() {
  return (
    <Background>
      <Wrapper>
        <Header />
        <Main />
      </Wrapper>
    </Background>
  );
}

const Background = styled.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: ${({ theme }) => theme.background1};
  color: ${({ theme }) => theme.text};
  transition: background 0.3s ease-in, color 0.3s ease-in;
`;
...
export default App;
 ```

 ![](https://blog.kakaocdn.net/dn/CakvQ/btrJqnR0qXP/fOT0KoGK0JFiDba5OqmoEk/img.gif)
 transition ì ìš©ì„ ìœ ì§€í•˜ë©´ì„œ, ìƒˆë¡œê³ ì¹¨ ì‹œì—ë„ ë¶ˆí•„ìš”í•œ í…Œë§ˆ ì „í™˜ì´ ì‚¬ë¼ì¡Œë‹¤.

 <br/>
 <br/>


## â• ë¸Œë¼ìš°ì €ì— ì„¤ì •í•œ í…Œë§ˆ ê°’ ê°€ì ¸ì˜¤ê¸°
ë§Œì•½ í”„ë¡œì íŠ¸ì— ì²˜ìŒ ë“¤ì–´ì˜¤ëŠ” ì‚¬ìš©ìê°€ ì‹œìŠ¤í…œ ì„¤ì •ìœ¼ë¡œ ë‹¤í¬ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´, ì´ˆê¸° í…Œë§ˆë¥¼ ì‹œìŠ¤í…œ ì„¤ì •ê³¼ ë™ì¼í•˜ê²Œ ì ìš©í•˜ëŠ” ê²ƒì´ ì‚¬ìš©ìì—ê²Œ ë” ì¢‹ì€ UXë¥¼ ì œê³µí•  ê²ƒì´ë‹¤.

```
import { useCallback, useLayoutEffect, useState } from "react";

function useTheme() {
  const [theme, setTheme] = useState("light");
...

  useLayoutEffect(() => {
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme && ["dark", "light"].includes(savedTheme)) {
      setTheme(savedTheme);
      return;
    }
    if (
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches
    ) {
      setTheme("dark");
    }
  }, []);

  return {
    theme,
    onChangeTheme,
  };
}

export default useTheme;
```
`prefers-color-scheme` ë¯¸ë””ì–´ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ `prefers-color-scheme` ê°’ì´ `â€˜darkâ€™` ë¼ë©´ í”„ë¡œì íŠ¸ í…Œë§ˆë¥¼ ë‹¤í¬ëª¨ë“œë¡œ ì„¤ì •í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•˜ì˜€ë‹¤.